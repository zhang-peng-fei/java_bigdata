CREATE
external TABLE api_call_log_test1 (
s_id string,
api_type string,
user_id string,
seq_id string,
call_ip string,
user_agent string,
request_param string,
request_size string,
response_param string,
response_size string,
request_received_time timestamp,
request_forward_time timestamp,
response_received_time timestamp,
response_forward_time timestamp,
method string,
host string,
uri string,
result_flag string,
package_id string,
dcoos_api_id string,
err_level string,
gateway_business_response_code string,
gateway_response_code string,
business_response_code string,
backend_response_code string,
day_id int,
hour_id int,
raw_data string,
trace_id string
)PARTITIONED BY(month_id INT) ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LINES TERMINATED BY '\n' STORED AS ORC;
# 104028992
# 161153200 records

CREATE external TABLE api_s_test2(
S_ID bigint,
S_NAME string,
TOP_TYPE_ID bigint,
TYPE_ID bigint,
S_SRC int,
S_CODE string,
SERVICE_URL string,
MODEL_ID bigint,
QUERY_TYPE int,
FMT_TYPE int,
SYS_ID bigint,
PROT_ID bigint,
IF_MSG_SWITCH int,
STATUS int,
S_LEVEL string,
S_DESC string,
PRODUCT_DESC string,
CLUSERT_ID bigint,
ORDER_NUM int,
CALL_SUM int,
CALL_SUM_UPT_DATE date,
CALL_SUM_DCOOS int,
S_LOGO string,
ONLINE_DATE date,
ONLINE_DESC string,
REMOVE_TYPE int,
REMOVE_DATE date,
REMOVE_DESC string,
HOT_LEVEL int,
FAVORITE_NUM int,
ORDER_CODE int,
CRT_USER_ID bigint,
CRT_USER_NAME string,
CRT_DATE date,
DEV_TYPE int,
LEVEL_TYPE int,
LEVEL_FLAG int,
IS_ENCRYPT int,
PROCESS_INSTANCE_ID string,
PROCESS_INSTANCE_TYPE smallint,
PROCESS_CREATE_TIME date,
PROCESS_BUSINESSJSON string,
ENVIRONMENT int,
TENANT_ID bigint,
PROJECT_ID bigint,
ROLE_ID bigint,
TIME_OUT int
) ROW FORMAT DELIMITED FIELDS TERMINATED BY ',' LINES TERMINATED BY '\n' STORED AS ORC;